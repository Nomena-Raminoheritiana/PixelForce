{% extends 'base.html.twig' %}
{% block title %}Coach - Liste Formations Video {% endblock %}
{% block body %}
    <div>
        <div class="row mt-4">
            <div class="col-12 col-md-6">
                <h3>Liste des formations</h3>
            </div>
        </div>

        <form action="" method="get">
            <div class="row">
                <div class="col-12 col-md-2 mt-4">
                    <input type="text" name="q[titre]" value="{{ criteres ? criteres.titre }}" class="form-control" placeholder="Titre"/>
                </div>
                <div class="col-12 col-md-2 mt-4">
                    <input type="text" name="q[description]"  value="{{ criteres ? criteres.description }}" class="form-control" placeholder="DÃ©scription"/>
                </div>
                <div class="col-12 col-md-2 mt-4">
                    <input type="text" name="q[auteur]" value="{{ criteres ? criteres.auteur }}" class="form-control" placeholder="Nom de l'auteur"/>
                </div>
                <div class="col-12 col-md-2 mt-4">
                    <select class="form-select" name="q[etat]">
                        <option value="" selected>Etat</option>
                        <option value="">Tous</option>
                        <option value="disponible" {{ criteres and criteres.etat == 'disponible' ? 'selected' : '' }}>Disponible</option>
                        <option value="bloquee" {{ criteres and criteres.etat == 'brouillon' ? 'selected' : '' }}>Bloquer</option>
                    </select>
                </div>
                <div class="col-12 col-md-2 mt-4">
                    <select class="form-select" name="q[trie]">
                        <option value="titre" selected>Trier par</option>
                        <option value="titre" {{ criteres and criteres.trie == 'titre' ? 'selected' : '' }}>Titre</option>
                        <option value="description" {{ criteres and criteres.trie == 'description' ? 'selected' : '' }}>Description</option>
                        <option value="auteur" {{ criteres and criteres.trie == 'auteur' ? 'selected' : '' }}>Auteur</option>
                    </select>
                </div>
                <div class="col-12 col-md-1 mt-4">
                    <select class="form-select" name="q[ordre]">
                        <option value="ASC"selected>Ordre</option>
                        <option value="ASC" {{ criteres and criteres.ordre == 'ASC' ? 'selected' : '' }}>ASC</option>
                        <option value="DESC" {{ criteres and criteres.ordre == 'DESC' ? 'selected' : '' }}>DESC</option>
                    </select>
                </div>
                <div class="col-12 col-md-1  mt-4">
                    <button class="btn bg-princ text-white"><i class="fa fa-search"></i></button>
                </div>
            </div>
        </form>

        <div>
            {% for key,formation in formations %}
                <div class="bg-white border p-4 mt-3">
                    <h5>{{ formation.titre }} {% if formation.brouillon %}<small class="text-danger">[ brouillon ]</small>{% endif %}</h5>
                    <div class="row mt-3">
                        <div class="col-12  col-md-10">
                            {{ formation.description }}
                        </div>
                        <div class="col-12 col-md-2 text-end">
                            <a href="{{ path('coach_formation_fiche', {id:formation.id}) }}" class="btn btn-primary btn-sm"><i class="fa fa-chevron-right"></i> Fiche formation</a>
                        </div>

                    </div>
                </div>

            {% endfor %}
        </div>
        {# display navigation #}
        <div class="navigation">
            {{ knp_pagination_render(formations) }}
        </div>
    </div>
{% endblock %}