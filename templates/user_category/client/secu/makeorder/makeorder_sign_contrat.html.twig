{% set active = 'sign_contrat' %}
{% extends 'user_category/client/secu/makeorder/base_makeorder.html.twig' %}



{% block content_makeorder %} 
<div id="step-cart" class="content active dstepper-block" role="tabpanel" aria-labelledby="step-cart-trigger">
    
    <div id="place-order" class="list-view product-checkout">
        <!-- Checkout Place Order Left starts -->
        
        <div class="payment-type" >
            <div class="block block--rounded">
                <h1 class="block__text block__text--center mt-2" >Signature du contrat :</h1>
                    {{ form_start(form, {'attr': {'class': 'hidden', 'id': 'sign_document'}}) }}
                    
                    
                    <div class="my-form-widget">
                        {{form_label(form.signature)}}
                        {{form_widget(form.signature)}}
                        {{form_errors(form.signature)}}
                    </div>
                    
                    <div class="btn-wrap">
                        <button class="btn btn-primary btn-submit" type="submit"><i data-feather="save"></i>Créer</button>
                    </div>
                {{ form_end(form) }}
                <div id="signature" style="margin : 25px 0px;"></div>
                <div class="d-flex align-items-center justify-content-center ">
                    <button class="btn btn-danger btn-clear" type="submit"><i data-feather="trash"></i>Réinitialiser</button>
                    <button class="btn btn-success btn-save mx-2" type="submit"><i data-feather="save"></i>Valider</button>
                </div>
            </div>   
        </div>
        <!-- Checkout Place Order Left ends -->

        <!-- Checkout Place Order Right starts -->
        {# <div class="checkout-options" >
            <div class="card">
                <div class="card-body">
                    <label class="section-label form-label mb-3">Détails de la commande</label>
                    <div class="price-details">
                        <ul class="list-unstyled"  style="height: calc(100vh - 470px);">
                            <li class="price-detail">
                                <div class="detail-title">{{order.typeAbonnement.nom}}</div>
                                <div class="detail-amt discount-amt text-success">Gratuit</div>
                            </li>
                            <li class="price-detail">
                                <div class="detail-title">Prix du produit</div>
                                <div class="detail-amt discount-amt" id="product-cost" data-product-cost="{{order.prixProduit}}">{{order.prixProduit | number_format(2, ',', ' ')}} €</div>
                            </li>
                            <li class="price-detail">
                                <div class="detail-title">Montant des accompagnements</div>
                                <div class="detail-amt discount-amt" id="accomp-cost" data-accomp-cost="{{order.montantAccomp}}">{{order.montantAccomp | number_format(2, ',', ' ')}} €</div>
                            </li>
                            <li class="price-detail" id="installation">
                                <div class="detail-title">Frais d'installation</div>
                                <div class="detail-amt discount-amt" id="installation-cost" data-installation-cost="{{order.fraisInstallation}}">{{order.fraisInstallation | number_format(2, ',', ' ')}} €</div>
                            </li>
                        </ul>
                        <hr />
                        <ul class="list-unstyled">
                            <li class="price-detail">
                                <div class="detail-title detail-total">Montant total  :</div>
                                <div class="detail-amt fw-bolder" id="total-cost" >{{(order.prixProduit + order.montantAccomp + order.fraisInstallation ) | number_format(2, ',', ' ')}} €</div>
                            </li>
                        </ul>
                        <a role="button" class="btn btn-primary w-100 btn-next place-order" href="{{path('client_order_address', {'token': token})}}">Commander</a>
                    </div>
                </div>
            </div>
            <!-- Checkout Place Order Right ends -->
        </div> #}
    </div>
    <!-- Checkout Place order Ends -->
</div>

{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jSignature/2.1.3/jSignature.min.noconflict.js" defer></script>
    <script src="{{asset('assets/templates/secu_sign_contrat.js')}}" defer></script>
{% endblock %}

